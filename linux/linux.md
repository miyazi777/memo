
linux / unix memo
==================================

カレンダを表示する
----------------------------------
```
cal
```

### １年分のカレンダーを表示する
```
cal 2016
```


ディスク容量をディレクトリ毎に確認する
----------------------------------

カレントディレクトリ下のディレクトリがそれぞれ、どのぐらいの容量を食ってるのか確認する為のコマンド
```
du -sh ./*
```

以下のようにsortを付けるとファイルサイズの小さい順にソートされる
```
du -s ./* | sort -n
```

指定日数以前のファイルを削除する
----------------------------------
以下のコマンドは/tmpファイル以下で４日以上前のファイル・ディレクトリに対して rm -fr を実行する

```
find /tmp -mtime 4 -exec rm -fr {} \;
```

### 参考サイト
http://qiita.com/makaaso/items/474d9f198c35d9587f15


findコマンドで指定の文字列を含んだファイルを探す
----------------------------------

hogeを含んだファイルを現在のディレクトリ以下から探す
```
find ./ -type f -print | xargs grep 'hoge'
```


prezto
----------------------------------
## 設定ファイルの場所
~/.zprezto/runcoms/zpreztorc


### directoryについて
ディレクトリスタックの表示  dirs -v
0 - 9   各ディレクトリスタックへの移動

ゴミ箱ツール
----------------------------------
## 置き場所
https://github.com/rcmdnk/trash

## インストール
```
brew tap rcmdnk/rcmdnkpac
brew install rcmdnk-trash
brew install sentaku
```

## エイリアス
```
alias rm="trash -i"
```


shortcut
----------------------------------
| 機能 | ショートカット |
|:----|:----|
|行頭へ移動|C-a|
|行末へ移動|C-e|
|１文字移動(前、後)|C-f,C-b|
|１単語移動(前、後)|ESC f,ESC b|
|リターン|C-j|
|バックスペース|C-h|
|後ろを１文字を削除|C-d|
|カーソルより行頭の文字を削除|C-u|
|カーソルから行末の文字を削除|C-k|

CPUのコア数の確認方法
----------------------------------
```
grep processor /proc/cpuinfo | wc -l
```

ディストリビューションの判別方法
----------------------------------
```
cat /etc/os-release
```



一般的なコマンド
----------------------------------
|機能|コマンド|
|:----|-----|
|ファイル取得|wget <url>|
|httpリクエストを送信|curl <url>|



yum(redhat系のパッケージ)
----------------------------------
yum list					パッケージ一覧表示
yum install <パッケージ名>	インストール

|機能|コマンド|
|:----|-----|
|パッケージ一覧表示|yum list|
|インストール|yum install <パッケージ名>|


サービスまわりのコマンド
----------------------------------

### サービス制御

|機能|コマンド|
|:----|-----|
|サービス開始|server <サービス名> start|



### 自動起動の設定

|機能|コマンド|
|:----|-----|
|登録されているサービス一覧を表示|chkconfig --list|
|サービスを登録|chkconfig <サービス名> on|



トラブルシューティング
----------------------------------

### 現象
sshで接続しようとすると以下のような警告が出てくる

<pre>
@ WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!   @
IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
</pre>


### 解決方法
すでに登録されているIP・ホスト名とキーが一致しない為に出てくる
メッセージに出てくるknown〜ファイルから該当箇所を削除する


